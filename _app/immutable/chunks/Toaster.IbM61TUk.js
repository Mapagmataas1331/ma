import{p as v,c as P,i as E,a as l,n as $e,t as ee,l as mt,b as Pt,o as St,q as Z,j as Xe,s as gt,d as yt,k as Mt,r as Ot,e as Qe,f as We,v as Rt}from"./disclose-version.CCqIm1Tj.js";import{p as et,v as zt,z as Nt,c as tt,f as B,e as Se,g as ae,t as Y,m as y,i as r,j as e,l as x,b as Ct,d as Fe,A as C,w as Ft,B as V,y as jt}from"./utils.BfJ3LYB2.js";import{n as Ut,b as Kt,g as Vt,i as ht,e as vt,c as kt,d as k,a as fe,f as je,h as Wt}from"./language.CvieEbqB.js";import{w as Et,g as wt}from"./index.BEtKO2Sl.js";const qt=/[&"<]/g;function Gt(i,t){const m=String(i??""),u=qt;u.lastIndex=0;let _="",T=0;for(;u.test(m);){const z=u.lastIndex-1,W=m[z];_+=m.substring(T,z)+(W==="&"?"&amp;":W==='"'?"&quot;":"&lt;"),T=z+1}return _+m.substring(T)}function be(i,t,m,u){var _=i.__styles??(i.__styles={});_[t]!==m&&(_[t]=m,m==null?i.style.removeProperty(t):i.style.setProperty(t,m,""))}const bt={translate:new Map([[!0,"yes"],[!1,"no"]])};function Yt(i,t,m=!1){const u=i in bt&&bt[i].get(t)||t,_=m?"":`="${Gt(u)}"`;return` ${i}${_}`}function Bn(i,t){et(t,!0);let m=v(t,"isMounted",15,!1),u=v(t,"onMountedChange",3,Ut);zt(()=>(Nt(()=>{m(!0),u()(!0)}),()=>{m(!1),u()(!1)})),tt()}const Zt=()=>{if(typeof window<"u"){const i=Vt("theme");return i==="dark"||i==="light"?i:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}return"light"},Xt=Et(Zt());let Tt=null;Xt.subscribe(i=>{var t;typeof window<"u"&&i!==Tt&&(Kt("theme",i,365,"ma.cyou"),document.documentElement.classList.toggle("dark",i==="dark"),(t=document.querySelector('meta[name="theme-color"]'))==null||t.setAttribute("content",i==="dark"?"#090a0b":"#ffffff"),Tt=i)});var Qt=$e('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" height="20" width="20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd"></path></svg>'),Jt=$e('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" height="20" width="20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path></svg>'),$t=$e('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" height="20" width="20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>'),en=$e('<svg viewBox="0 0 64 64" fill="currentColor" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M32.427,7.987c2.183,0.124 4,1.165 5.096,3.281l17.936,36.208c1.739,3.66 -0.954,8.585 -5.373,8.656l-36.119,0c-4.022,-0.064 -7.322,-4.631 -5.352,-8.696l18.271,-36.207c0.342,-0.65 0.498,-0.838 0.793,-1.179c1.186,-1.375 2.483,-2.111 4.748,-2.063Zm-0.295,3.997c-0.687,0.034 -1.316,0.419 -1.659,1.017c-6.312,11.979 -12.397,24.081 -18.301,36.267c-0.546,1.225 0.391,2.797 1.762,2.863c12.06,0.195 24.125,0.195 36.185,0c1.325,-0.064 2.321,-1.584 1.769,-2.85c-5.793,-12.184 -11.765,-24.286 -17.966,-36.267c-0.366,-0.651 -0.903,-1.042 -1.79,-1.03Z"></path><path d="M33.631,40.581l-3.348,0l-0.368,-16.449l4.1,0l-0.384,16.449Zm-3.828,5.03c0,-0.609 0.197,-1.113 0.592,-1.514c0.396,-0.4 0.935,-0.601 1.618,-0.601c0.684,0 1.223,0.201 1.618,0.601c0.395,0.401 0.593,0.905 0.593,1.514c0,0.587 -0.193,1.078 -0.577,1.473c-0.385,0.395 -0.929,0.593 -1.634,0.593c-0.705,0 -1.249,-0.198 -1.634,-0.593c-0.384,-0.395 -0.576,-0.886 -0.576,-1.473Z"></path></svg>');function Je(i,t){let m=v(t,"type",8,"success");var u=P(),_=B(u);E(_,()=>m()==="success",T=>{var z=Qt();l(T,z)},T=>{var z=P(),W=B(z);E(W,()=>m()==="error",q=>{var X=Jt();l(q,X)},q=>{var X=P(),ge=B(X);E(ge,()=>m()==="info",S=>{var te=$t();l(S,te)},S=>{var te=P(),le=B(te);E(le,()=>m()==="warning",U=>{var ce=en();l(U,ce)},U=>{},!0),l(S,te)},!0),l(q,X)},!0),l(T,z)}),l(i,u)}var tn=ee('<div class="sonner-loading-bar"></div>'),nn=ee('<div class="sonner-loading-wrapper"><div class="sonner-spinner"></div></div>');function sn(i,t){et(t,!1);let m=v(t,"visible",8);const u=Array(12).fill(0);ht();var _=nn(),T=Se(_);vt(T,5,()=>u,kt,(z,W)=>{var q=tn();l(z,q)}),ae(T),ae(_),Y(()=>k(_,"data-visible",m())),l(i,_),tt()}function Ue(...i){return i.filter(Boolean).join(" ")}const xt=typeof document<"u";function Bt(i){const t=Et(i);function m(_){xt&&t.set(_)}function u(_){xt&&t.update(_)}return{subscribe:t.subscribe,set:m,update:u}}let It=0;function on(){const i=Bt([]),t=Bt([]);function m(o){i.update(s=>[o,...s])}function u(o){var Ee;const{message:s,...f}=o,N=typeof(o==null?void 0:o.id)=="number"||o.id&&((Ee=o.id)==null?void 0:Ee.length)>0?o.id:It++,ne=o.dismissable===void 0?!0:o.dismissable,L=o.type===void 0?"default":o.type;return wt(i).find(Me=>Me.id===N)?i.update(Me=>Me.map(K=>K.id===N?{...K,...o,id:N,title:s,dismissable:ne,type:L,updated:!0}:{...K,updated:!1})):m({...f,id:N,title:s,dismissable:ne,type:L}),N}function _(o){if(o===void 0){i.update(s=>s.map(f=>({...f,dismiss:!0})));return}return i.update(s=>s.map(f=>f.id===o?{...f,dismiss:!0}:f)),o}function T(o){if(o===void 0){i.set([]);return}return i.update(s=>s.filter(f=>f.id!==o)),o}function z(o,s){return u({...s,type:"default",message:o})}function W(o,s){return u({...s,type:"error",message:o})}function q(o,s){return u({...s,type:"success",message:o})}function X(o,s){return u({...s,type:"info",message:o})}function ge(o,s){return u({...s,type:"warning",message:o})}function S(o,s){return u({...s,type:"loading",message:o})}function te(o,s){if(!s)return;let f;s.loading!==void 0&&(f=u({...s,promise:o,type:"loading",message:s.loading}));const N=o instanceof Promise?o:o();let ne=f!==void 0;return N.then(L=>{if(L&&typeof L.ok=="boolean"&&!L.ok){ne=!1;const de=typeof s.error=="function"?s.error(`HTTP error! status: ${L.status}`):s.error;u({id:f,type:"error",message:de})}else if(s.success!==void 0){ne=!1;const de=typeof s.success=="function"?s.success(L):s.success;u({id:f,type:"success",message:de})}}).catch(L=>{if(s.error!==void 0){ne=!1;const de=typeof s.error=="function"?s.error(L):s.error;u({id:f,type:"error",message:de})}}).finally(()=>{var L;ne&&(_(f),f=void 0),(L=s.finally)==null||L.call(s)}),f}function le(o,s){const f=(s==null?void 0:s.id)||It++;return u({component:o,id:f,...s}),f}function U(o){t.update(s=>s.filter(f=>f.toastId!==o))}function ce(o){if(wt(t).find(f=>f.toastId===o.toastId)===void 0){t.update(f=>[o,...f]);return}t.update(f=>f.map(N=>N.toastId===o.toastId?o:N))}function Te(){i.set([]),t.set([])}return{create:u,addToast:m,dismiss:_,remove:T,message:z,error:W,success:q,info:X,warning:ge,loading:S,promise:te,custom:le,removeHeight:U,setHeight:ce,reset:Te,toasts:i,heights:t}}const $=on();function rn(i,t){return $.create({message:i,...t})}const an=rn,In=Object.assign(an,{success:$.success,info:$.info,warning:$.warning,error:$.error,custom:$.custom,message:$.message,promise:$.promise,dismiss:$.dismiss,loading:$.loading}),ln=i=>({subscribe:i});var cn=ee('<button aria-label="Close toast" data-close-button=""><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button>'),dn=ee('<div data-icon=""><!> <!></div>'),un=ee('<div data-title=""><!></div>'),fn=ee('<div data-description=""><!></div>'),gn=ee('<button data-button="" data-cancel=""> </button>'),mn=ee('<button data-button=""> </button>'),vn=ee('<!> <div data-content=""><!> <!></div> <!> <!>',1),hn=ee('<li aria-atomic="true" role="status" tabindex="0" data-sonner-toast=""><!> <!></li>');function pn(i,t){const m=mt(t,["children","$$slots","$$events","$$legacy"]);et(t,!1);const u=Pt(),_=()=>We(Me,"$heights",u),T=()=>We(e(w),"$effect",u),z=()=>We(Ee,"$toasts",u),W=y(void 0,!0),q=y(void 0,!0),X=y(void 0,!0),ge=y(void 0,!0),S=y(void 0,!0),te=y(void 0,!0),le=y(void 0,!0),U=y(void 0,!0),ce=y(void 0,!0),Te=y(void 0,!0),o=y(void 0,!0),s=y(void 0,!0),f=4e3,N=14,ne=20,L=200,de=.05,qe={toast:"",title:"",description:"",loader:"",closeButton:"",cancelButton:"",actionButton:"",action:"",warning:"",error:"",success:"",default:"",info:"",loading:""},{toasts:Ee,heights:Me,removeHeight:K,setHeight:Ae,remove:Ge}=$;let n=v(t,"toast",9),se=v(t,"index",9),De=v(t,"expanded",9),Q=v(t,"invert",13),Ce=v(t,"position",9),xe=v(t,"visibleToasts",9),me=v(t,"expandByDefault",9),ve=v(t,"closeButton",9),Be=v(t,"interacting",9),nt=v(t,"cancelButtonStyle",9,""),st=v(t,"actionButtonStyle",9,""),He=v(t,"duration",9,4e3),ot=v(t,"descriptionClass",9,""),d=v(t,"classes",29,()=>({})),A=v(t,"unstyled",9,!1),J=y(!1,!0),he=y(!1,!0),G=y(!1,!0),Ie=y(!1,!0),I=y(0,!0),Le=y(0,!0),oe=y(void 0,!0),O=y(0,!0),Oe=0,Ye=0,Pe=null;async function it(){if(!e(J))return;await Ft();let a;De()||me()?a=1:a=1-se()*de,e(oe).style.setProperty("height","auto");const p=e(oe).offsetHeight,D=e(oe).getBoundingClientRect().height,R=Math.round((D/a+Number.EPSILON)*100)/100;e(oe).style.removeProperty("height");let M;Math.abs(R-p)<1?M=R:M=p,r(Le,M),Ae({toastId:n().id,height:M})}function pe(){r(he,!0),r(I,e(O)),K(n().id),setTimeout(()=>{Ge(n().id)},L)}let ke=y(void 0,!0),Re=y(n().duration||He()||f,!0);function rt(){if(Ye<Oe){const a=new Date().getTime()-Oe;r(Re,e(Re)-a)}Ye=new Date().getTime()}function Ze(){Oe=new Date().getTime(),r(ke,setTimeout(()=>{var a,p;(p=(a=n()).onAutoClose)==null||p.call(a,n()),pe()},e(Re)))}let w=y(void 0,!0);St(()=>{r(J,!0);const a=e(oe).getBoundingClientRect().height;return r(Le,a),Ae({toastId:n().id,height:a}),()=>K(n().id)});function ze(a){if(e(o))return;r(I,e(O));const p=a.target;p.setPointerCapture(a.pointerId),p.tagName!=="BUTTON"&&(r(G,!0),Pe={x:a.clientX,y:a.clientY})}function F(){var p,D,R;if(e(Ie))return;Pe=null;const a=Number(((p=e(oe))==null?void 0:p.style.getPropertyValue("--swipe-amount").replace("px",""))||0);if(Math.abs(a)>=ne){r(I,e(O)),(R=(D=n()).onDismiss)==null||R.call(D,n()),pe(),r(Ie,!0);return}e(oe).style.setProperty("--swipe-amount","0px"),r(G,!1)}function ie(a){if(!Pe)return;const p=a.clientY-Pe.y,D=a.clientX-Pe.x,M=(e(ce)[0]==="top"?Math.min:Math.max)(0,p),j=a.pointerType==="touch"?10:2;Math.abs(M)>j?e(oe).style.setProperty("--swipe-amount",`${p}px`):Math.abs(D)>j&&(Pe=null)}x(()=>C(d()),()=>{d({...qe,...d()})}),x(()=>C(se()),()=>{r(W,se()===0)}),x(()=>(C(se()),C(xe())),()=>{r(q,se()+1<=xe())}),x(()=>C(n()),()=>{r(X,n().title)}),x(()=>C(n()),()=>{r(ge,n().description)}),x(()=>C(n()),()=>{r(S,n().type)}),x(()=>C(n()),()=>{r(te,n().class||"")}),x(()=>C(n()),()=>{r(le,n().descriptionClass||"")}),x(()=>(_(),C(n())),()=>{r(U,_().findIndex(a=>a.toastId===n().id)||0)}),x(()=>C(Ce()),()=>{r(ce,Ce().split("-"))}),x(()=>(_(),e(U)),()=>{r(Te,_().reduce((a,p,D)=>D>=e(U)?a:a+p.height,0))}),x(()=>(C(Q()),C(n())),()=>{Q(n().invert||Q())}),x(()=>e(S),()=>{r(o,e(S)==="loading")}),x(()=>(e(U),e(Te)),()=>{r(O,Math.round(e(U)*N+e(Te)))}),x(()=>(e(X),e(ge)),()=>{e(X),e(ge),it()}),x(()=>(C(n()),e(ke),C(He())),()=>{n().updated&&(clearTimeout(e(ke)),r(Re,n().duration||He()||f),Ze())}),x(()=>(C(n()),e(S)),()=>{r(s,n().promise&&e(S)==="loading"||n().duration===Number.POSITIVE_INFINITY)}),x(()=>(e(s),C(De()),C(Be()),e(ke)),()=>{Ot(r(w,ln(()=>(e(s)||(De()||Be()?rt():Ze()),()=>clearTimeout(e(ke))))),"$effect",u)}),x(()=>T(),()=>{T()}),x(()=>C(n()),()=>{n().delete&&pe()}),Ct(),ht(!0);var c=hn();const at=V(()=>{var a,p,D,R,M,j;return Ue(m.class,e(te),(a=d())==null?void 0:a.toast,(D=(p=n())==null?void 0:p.classes)==null?void 0:D.toast,(R=d())==null?void 0:R[e(S)],(j=(M=n())==null?void 0:M.classes)==null?void 0:j[e(S)])});Y(()=>k(c,"data-promise",!!n().promise)),Y(()=>k(c,"data-expanded",!!(De()||me()&&e(J))));var pt=Se(c);E(pt,()=>ve()&&!n().component,a=>{var p=cn(),D=jt(()=>e(o)?void 0:()=>{var M,j;pe(),(j=(M=n()).onDismiss)==null||j.call(M,n())});const R=V(()=>{var M,j,Ne;return Ue((M=d())==null?void 0:M.closeButton,(Ne=(j=n())==null?void 0:j.classes)==null?void 0:Ne.closeButton)});Y(()=>{k(p,"data-disabled",e(o)),je(p,e(R))}),Z("click",p,function(...M){var j;(j=e(D))==null||j.apply(this,M)}),l(a,p)});var At=Fe(pt,2);E(At,()=>n().component,a=>{var p=P(),D=B(p);Xe(D,()=>n().component,(R,M)=>{M(R,gt(()=>n().componentProps,{$$events:{closeToast:pe}}))}),l(a,p)},a=>{var p=vn(),D=B(p);E(D,()=>e(S)!=="default"||n().icon||n().promise,_e=>{var b=dn(),ue=Se(b);E(ue,()=>(n().promise||e(S)==="loading")&&!n().icon,h=>{var g=P(),H=B(g);fe(H,t,"loading-icon",{},null),l(h,g)});var ye=Fe(ue,2);E(ye,()=>n().icon,h=>{var g=P(),H=B(g);Xe(H,()=>n().icon,(we,re)=>{re(we,{})}),l(h,g)},h=>{var g=P(),H=B(g);E(H,()=>e(S)==="success",we=>{var re=P(),lt=B(re);fe(lt,t,"success-icon",{},null),l(we,re)},we=>{var re=P(),lt=B(re);E(lt,()=>e(S)==="error",ct=>{var Ke=P(),dt=B(Ke);fe(dt,t,"error-icon",{},null),l(ct,Ke)},ct=>{var Ke=P(),dt=B(Ke);E(dt,()=>e(S)==="warning",ut=>{var Ve=P(),ft=B(Ve);fe(ft,t,"warning-icon",{},null),l(ut,Ve)},ut=>{var Ve=P(),ft=B(Ve);E(ft,()=>e(S)==="info",Ht=>{var _t=P(),Lt=B(_t);fe(Lt,t,"info-icon",{},null),l(Ht,_t)},null,!0),l(ut,Ve)},!0),l(ct,Ke)},!0),l(we,re)},!0),l(h,g)}),ae(b),l(_e,b)});var R=Fe(D,2),M=Se(R);E(M,()=>n().title,_e=>{var b=un();const ue=V(()=>{var h,g,H;return Ue((h=d())==null?void 0:h.title,(H=(g=n())==null?void 0:g.classes)==null?void 0:H.title)});var ye=Se(b);E(ye,()=>typeof n().title!="string",h=>{var g=P(),H=B(g);Xe(H,()=>n().title,(we,re)=>{re(we,gt(()=>n().componentProps))}),l(h,g)},h=>{var g=yt();Y(()=>Qe(g,n().title)),l(h,g)}),ae(b),Y(()=>je(b,e(ue))),l(_e,b)});var j=Fe(M,2);E(j,()=>n().description,_e=>{var b=fn();const ue=V(()=>{var h,g;return Ue(ot(),e(le),(h=d())==null?void 0:h.description,(g=n().classes)==null?void 0:g.description)});var ye=Se(b);E(ye,()=>typeof n().description!="string",h=>{var g=P(),H=B(g);Xe(H,()=>n().description,(we,re)=>{re(we,gt(()=>n().componentProps))}),l(h,g)},h=>{var g=yt();Y(()=>Qe(g,n().description)),l(h,g)}),ae(b),Y(()=>je(b,e(ue))),l(_e,b)}),ae(R);var Ne=Fe(R,2);E(Ne,()=>n().cancel,_e=>{var b=gn();const ue=V(()=>{var h,g,H;return Ue((h=d())==null?void 0:h.cancelButton,(H=(g=n())==null?void 0:g.classes)==null?void 0:H.cancelButton)});var ye=Se(b,!0);ae(b),Y(()=>{k(b,"style",nt()),je(b,e(ue)),Qe(ye,n().cancel.label)}),Z("click",b,()=>{var h;pe(),(h=n().cancel)!=null&&h.onClick&&n().cancel.onClick()}),l(_e,b)});var Dt=Fe(Ne,2);E(Dt,()=>n().action,_e=>{var b=mn();const ue=V(()=>{var h,g,H;return Ue((h=d())==null?void 0:h.actionButton,(H=(g=n())==null?void 0:g.classes)==null?void 0:H.actionButton)});var ye=Se(b,!0);ae(b),Y(()=>{k(b,"style",st()),je(b,e(ue)),Qe(ye,n().action.label)}),Z("click",b,h=>{var g;(g=n().action)==null||g.onClick(h),!h.defaultPrevented&&pe()}),l(_e,b)}),l(a,p)}),ae(c),Mt(c,a=>r(oe,a),()=>e(oe)),Y(()=>{var a;k(c,"aria-live",n().important?"assertive":"polite"),je(c,e(at)),k(c,"data-styled",!(n().component||(a=n())!=null&&a.unstyled||A())),k(c,"data-mounted",e(J)),k(c,"data-removed",e(he)),k(c,"data-visible",e(q)),k(c,"data-y-position",e(ce)[0]),k(c,"data-x-position",e(ce)[1]),k(c,"data-index",se()),k(c,"data-front",e(W)),k(c,"data-swiping",e(G)),k(c,"data-type",e(S)),k(c,"data-invert",Q()),k(c,"data-swipe-out",e(Ie)),k(c,"style",`${m.style} ${n().style}`),be(c,"--index",se()),be(c,"--toasts-before",se()),be(c,"--z-index",z().length-se()),be(c,"--offset",`${e(he)?e(I):e(O)}px`),be(c,"--initial-height",`${e(Le)}px`)}),Z("pointerdown",c,ze),Z("pointerup",c,F),Z("pointermove",c,ie),l(i,c),tt()}var _n=ee("<ol></ol>"),yn=ee(`<section${Yt("tabindex",-1)} class="svelte-1fo5d1m"></section>`);function Pn(i,t){const m=mt(t,["children","$$slots","$$events","$$legacy"]),u=mt(m,["invert","theme","position","hotkey","containerAriaLabel","richColors","expand","duration","visibleToasts","closeButton","toastOptions","offset","dir"]);et(t,!1);const _=Pt(),T=()=>We(n,"$toasts",_),z=()=>We(se,"$heights",_),W=y(),q=y(),X=3,ge="32px",S=356,te=14,le="dark",U="light";function ce(d){return d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?le:U}function Te(){if(typeof window>"u"||typeof document>"u")return"ltr";const d=document.documentElement.getAttribute("dir");return d==="auto"||!d?window.getComputedStyle(document.documentElement).direction:d}let o=v(t,"invert",8,!1),s=v(t,"theme",8,"light"),f=v(t,"position",8,"bottom-right"),N=v(t,"hotkey",24,()=>["altKey","KeyT"]),ne=v(t,"containerAriaLabel",8,"Notifications"),L=v(t,"richColors",8,!1),de=v(t,"expand",8,!1),qe=v(t,"duration",8,4e3),Ee=v(t,"visibleToasts",8,X),Me=v(t,"closeButton",8,!1),K=v(t,"toastOptions",24,()=>({})),Ae=v(t,"offset",8,null),Ge=v(t,"dir",24,Te);const{toasts:n,heights:se,reset:De}=$;let Q=y(!1),Ce=y(!1),xe=y(ce(s())),me=y(),ve=null,Be=!1;Rt(()=>{e(me)&&ve&&(ve.focus({preventScroll:!0}),ve=null,Be=!1)}),St(()=>{De();const d=A=>{var he,G;N().every(Ie=>A[Ie]||A.code===Ie)&&(r(Q,!0),(he=e(me))==null||he.focus()),A.code==="Escape"&&(document.activeElement===e(me)||(G=e(me))!=null&&G.contains(document.activeElement))&&r(Q,!1)};return document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}});function nt(d){Be&&!d.currentTarget.contains(d.relatedTarget)&&(Be=!1,ve&&(ve.focus({preventScroll:!0}),ve=null))}function st(d){Be||(Be=!0,ve=d.relatedTarget)}x(()=>(C(f()),T()),()=>{r(W,Array.from(new Set([f(),...T().filter(d=>d.position).map(d=>d.position)].filter(Boolean))))}),x(()=>C(N()),()=>{r(q,N().join("+").replace(/Key/g,"").replace(/Digit/g,""))}),x(()=>T(),()=>{T().length<=1&&r(Q,!1)}),x(()=>T(),()=>{const d=T().filter(A=>A.dismiss&&!A.delete);if(d.length>0){const A=T().map(J=>d.find(G=>G.id===J.id)?{...J,delete:!0}:J);n.set(A)}}),x(()=>C(s()),()=>{if(s()!=="system"&&r(xe,s()),typeof window<"u"){s()==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?r(xe,le):r(xe,U));const d=window.matchMedia("(prefers-color-scheme: dark)"),A=({matches:J})=>{r(xe,J?le:U)};"addEventListener"in d?d.addEventListener("change",A):d.addListener(A)}}),Ct(),ht();var He=P(),ot=B(He);E(ot,()=>T().length>0,d=>{var A=yn();vt(A,5,()=>e(W),kt,(he,G,Ie)=>{var I=_n();let Le;vt(I,7,()=>T().filter(O=>!O.position&&Ie===0||O.position===e(G)),O=>O.id,(O,Oe,Ye)=>{var Pe=V(()=>{var w;return((w=K())==null?void 0:w.actionButtonStyle)||""}),it=V(()=>{var w;return((w=K())==null?void 0:w.cancelButtonStyle)||""}),pe=V(()=>{var w;return((w=K())==null?void 0:w.class)||""}),ke=V(()=>{var w;return((w=K())==null?void 0:w.descriptionClass)||""}),Re=V(()=>K().classes||{}),rt=V(()=>{var w;return((w=K())==null?void 0:w.duration)??qe()}),Ze=V(()=>K().unstyled||!1);pn(O,{get index(){return e(Ye)},get toast(){return e(Oe)},get invert(){return o()},get visibleToasts(){return Ee()},get closeButton(){return Me()},get interacting(){return e(Ce)},get position(){return e(G)},get expandByDefault(){return de()},get expanded(){return e(Q)},get actionButtonStyle(){return e(Pe)},get cancelButtonStyle(){return e(it)},get class(){return e(pe)},get descriptionClass(){return e(ke)},get classes(){return e(Re)},get duration(){return e(rt)},get unstyled(){return e(Ze)},$$slots:{"loading-icon":(w,ze)=>{var F=P(),ie=B(F);fe(ie,t,"loading-icon",{},c=>{var at=V(()=>e(Oe).type==="loading");sn(c,{get visible(){return e(at)}})}),l(w,F)},"success-icon":(w,ze)=>{var F=P(),ie=B(F);fe(ie,t,"success-icon",{},c=>{Je(c,{type:"success"})}),l(w,F)},"error-icon":(w,ze)=>{var F=P(),ie=B(F);fe(ie,t,"error-icon",{},c=>{Je(c,{type:"error"})}),l(w,F)},"warning-icon":(w,ze)=>{var F=P(),ie=B(F);fe(ie,t,"warning-icon",{},c=>{Je(c,{type:"warning"})}),l(w,F)},"info-icon":(w,ze)=>{var F=P(),ie=B(F);fe(ie,t,"info-icon",{},c=>{Je(c,{type:"info"})}),l(w,F)}}})}),ae(I),Mt(I,O=>r(me,O),()=>e(me)),Y(()=>{var O;Le=Wt(I,Le,{tabIndex:-1,class:m.class,"data-sonner-toaster":!0,"data-theme":e(xe),"data-rich-colors":L(),dir:Ge()==="auto"?Te():Ge(),"data-y-position":e(G).split("-")[0],"data-x-position":e(G).split("-")[1],style:m.style,...u},"svelte-1fo5d1m"),be(I,"--front-toast-height",`${(O=z()[0])==null?void 0:O.height}px`),be(I,"--offset",typeof Ae()=="number"?`${Ae()}px`:Ae()||ge),be(I,"--width",`${S}px`),be(I,"--gap",`${te}px`),I.dir=I.dir}),Z("blur",I,nt),Z("focus",I,st),Z("mouseenter",I,()=>r(Q,!0)),Z("mousemove",I,()=>r(Q,!0)),Z("mouseleave",I,()=>{e(Ce)||r(Q,!1)}),Z("pointerdown",I,()=>r(Ce,!0)),Z("pointerup",I,()=>r(Ce,!1)),l(he,I)}),ae(A),Y(()=>k(A,"aria-label",`${ne()} ${e(q)}`)),l(d,A)}),l(i,He),tt()}export{Bn as M,Pn as T,In as a,Xt as t};
